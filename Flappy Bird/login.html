<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <link rel="stylesheet" href="css/common_form.css">
</head>
<body>
<header>
    <div class="header-line"></div>
</header>
<div class="content">
    <img class="content-logo" src="img/form_logo.png" alt="logo">
    <h1 class="content-title">登录</h1>
    <div class="content-form">
        <form>
            <div id="change_margin_1">
                <input class="user" type="text" name="user" placeholder="请输入用户名" id="user">
            </div>
            <p id="remind_1"></p>
            <div id="change_margin_2">
                <input class="password" type="password" name="password" placeholder="请输入密码" id="password">
            </div>
            <p id="remind_2"></p>
            <div id="change_margin_3">
                <input class="content-form-signup" type="submit" value="登录" id="login">
            </div>
        </form>
    </div>
    <div class="content-login-description">没有账户？</div>
    <div><a class="content-login-link" href="regist.html">注册</a></div>
</div>
</body>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
    $(function () {
        $("#login").click(function () {
            if ($("#user").val().length == 0) {
                return alert("请输入内容!");
            }
            if ($("#password").val().length == 0) {
                return alert("请输入密码!");
            }

            $.ajax({
                url: "http://localhost:3000/login",
                type: "POST",
                data: {
                    username: $("#user").val(),
                    password: $("#password").val()
                },
                success: function (res) {
                    if(res=="登录成功!") {
                        window.location.href="index.html"
                    }
                    else
                        alert("登录失败!")
                },
                error: function (err) {
                    console.log(err);
                }
            })

        })
    });
</script>
</html>